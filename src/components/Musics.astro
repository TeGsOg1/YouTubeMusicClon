---
import type { Playlist } from "@/lib/data"
import { Image } from 'astro:assets';
import { CardPlayButton } from "@/components/PlayButtonCard";


interface Props {
  song: Playlist;
}

const { song } = Astro.props
const { title, artists, image, id } = song
---

<article class="flex flex-col relative min-w-48 h-auto p-2 rounded-lg bg-opacity-10 bg-gradient-to-b from-gray-700 to-transparent hover:bg-opacity-100  transition-all">
    <div class="absolute z-30 opacity-0 hover:opacity-85 inset-0 p-2 ">
      <CardPlayButton id=`${id}` client:visible />
    </div>
  <picture class="relative">
      <Image
        decoding={`auto`}
        src=`${ image }`
        alt=`${ title } cover`
        width={320}
        height={320}
        transition:name=`${ id } image`
        loading="eager"
          />
    </picture>
  <h1 class="text-white justify-start text-lg  sm:text-xl mt-1"
    transition:name=`${ id } title`
  >{ title }</h1>
  <a 
   href={`/song/${ id }`}
   class="text-md sm:text-xl z-30 text-gray-400 hover:text-gray-300 active:text-gray-300 transition-colors" 
   transition:name=`${ id } artist`
   >
     { artists }
  </a>
</article>
